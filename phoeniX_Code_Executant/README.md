phoeniX Code Executant
======================================

Within this directory, you will find two subdirectories specifically designed to facilitate code composition and simulation on the phoeniX RISC-V core. 

### Windows & Linux (Venus)
First one is [Windows & Linux (Venus)](https://github.com/ArvinDelavari/PHOENIX-CORE/tree/main/phoeniX_Code_Executant/Windows%20%26%20Linux%20(Venus)) subdirectory which is designed in order to run RISC-V assembly code using [Venus Simulator](https://marketplace.visualstudio.com/items?itemName=hm.riscv-venus) and test the code on phoeniX core. Venus is a free RISC-V assembly simulator integrated in [Visual Studio Code](https://code.visualstudio.com/download).

There is a Python script included in this directory which is executable both in Linux and Windows. To execute this program, you just need to follow these simple steps:

1) Write, simulate and modify your assembly code in Venus simulator.
2) In `VENUS OPTIONS` select `Assembly` and save the output file as a text file (.txt).
3) Enter the created text file name.
4) Firmware file (instruction memory) will be generated.
5) Read the firmware file in testbench.

After the following steps, HEX file generated is automatically given to testbench and the created VVP file will be executed. In the end, GTKWave is automatically opened including waveforms of the phoeniX core as the unit under test executing the given program.


### Linux (GCC toolchain)
Second is [Linux (GCC toolchain)](https://github.com/ArvinDelavari/PHOENIX-CORE/tree/main/phoeniX_Code_Executant/Linux%20(GCC%20toolchain)) subdirectory. There is another Python script named `phoeniX_code_executant.py` in this directory which generates a shell script for linux including [RISC-V GCC compiler toolchain](https://github.com/riscv-collab/riscv-gnu-toolchain)  instructions(directives) and a python script to create a HEX file, in order to be given as the instruction memory of the CPU. 

To execute this program, you just need to follow these simple steps:

1) Write a C or Assembly code to be executed on phoeniX core.
2) Enter number of input files.
3) Enter the source files names (.s and .c).

Note I: You need to have [RISC-V compiler toolchain](https://github.com/riscv-collab/riscv-gnu-toolchain) installed on your device to run the shell script generated by the `phoeniX_code_executant.py`.

Note II: Following files must be included in the repository. please don't remove any of these files:

- `hex8to32.py`
- `riscv.ld`  
- `start.ld`
- `start.S`   
- `syscall.c`
- `phoeniX_code_executant.py`

After the following steps, HEX file generated is automatically given to testbench and the created VVP file will be executed. In the end, GTKWave is automatically opened including waveforms of the phoeniX core as the unit under test executing the given program.

- Designed By : [Arvin Delavari](https://github.com/ArvinDelavari) and [Faraz Ghoreishy](https://github.com/FarazGhoreishy)
- Contact us : arvin7807@gmail.com - farazghoreishy@gmail.com
- Iran University of Science and Technology - Summer 2023

